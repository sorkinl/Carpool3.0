{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('@googlemaps/js-api-loader')) : typeof define === 'function' && define.amd ? define(['exports', 'react', '@googlemaps/js-api-loader'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Loader = {}, global.React, global.jsApiLoader));\n})(this, function (exports, React, jsApiLoader) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n  /**\r\n   * Copyright 2021 Google LLC. All Rights Reserved.\r\n   *\r\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   * you may not use this file except in compliance with the License.\r\n   * You may obtain a copy of the License at.\r\n   *\r\n   *      Http://www.apache.org/licenses/LICENSE-2.0.\r\n   *\r\n   * Unless required by applicable law or agreed to in writing, software\r\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   * See the License for the specific language governing permissions and\r\n   * limitations under the License.\r\n   */\n\n\n  exports.Status = void 0;\n\n  (function (Status) {\n    Status[\"LOADING\"] = \"LOADING\";\n    Status[\"FAILURE\"] = \"FAILURE\";\n    Status[\"SUCCESS\"] = \"SUCCESS\";\n  })(exports.Status || (exports.Status = {}));\n  /**\r\n   * A component to wrap the loading of the Google Maps JavaScript API.\r\n   *\r\n   * ```\r\n   * import { Wrapper } from '@googlemaps/react-wrapper';\r\n   *\r\n   * const MyApp = () => (\r\n   * \t<Wrapper apiKey={'YOUR_API_KEY'}>\r\n   * \t\t<MyMapComponent />\r\n   * \t</Wrapper>\r\n   * );\r\n   * ```\r\n   *\r\n   * @param props\r\n   */\n\n\n  const Wrapper = ({\n    children,\n    render,\n    callback,\n    ...options\n  }) => {\n    const [status, setStatus] = React.useState(exports.Status.LOADING);\n    React.useEffect(() => {\n      const loader = new jsApiLoader.Loader(options);\n\n      const setStatusAndExecuteCallback = status => {\n        if (callback) callback(status, loader);\n        setStatus(status);\n      };\n\n      setStatusAndExecuteCallback(exports.Status.LOADING);\n      loader.load().then(() => setStatusAndExecuteCallback(exports.Status.SUCCESS), () => setStatusAndExecuteCallback(exports.Status.FAILURE));\n    }, []);\n    if (status === exports.Status.SUCCESS && children) return React__default['default'].createElement(React__default['default'].Fragment, null, children);\n    if (render) return render(status);\n    return React__default['default'].createElement(React__default['default'].Fragment, null);\n  };\n\n  exports.Wrapper = Wrapper;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["../src/index.tsx"],"names":["Status","useState","useEffect","Loader","React"],"mappings":";;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;AAmBYA,EAAAA,OAAAA,CAAAA,MAAAA,GAAAA,KAAAA,CAAAA;;AAAZ,GAAA,UAAYA,MAAZ,EAAkB;AAChB,IAAA,MAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,IAAA,MAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,IAAA,MAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACD,GAJD,EAAYA,OAAAA,CAAAA,MAAAA,KAAAA,OAAAA,CAAAA,MAAAA,GAAM,EAANA,CAAZ;AAuBA;;;;;;;;;;;;;;;;;QAea,OAAO,GAAG,CAAC;AACtB,IAAA,QADsB;AAEtB,IAAA,MAFsB;AAGtB,IAAA,QAHsB;AAItB,OAAG;AAJmB,GAAD,KAKR;AACb,UAAM,CAAC,MAAD,EAAS,SAAT,IAAsBC,KAAAA,CAAAA,QAAAA,CAASD,OAAAA,CAAAA,MAAAA,CAAO,OAAhBC,CAA5B;AAEAC,IAAAA,KAAAA,CAAAA,SAAAA,CAAU,MAAA;AACR,YAAM,MAAM,GAAG,IAAIC,WAAAA,CAAAA,MAAJ,CAAW,OAAX,CAAf;;AAEA,YAAM,2BAA2B,GAAI,MAAD,IAAe;AACjD,YAAI,QAAJ,EAAc,QAAQ,CAAC,MAAD,EAAS,MAAT,CAAR;AACd,QAAA,SAAS,CAAC,MAAD,CAAT;AACD,OAHD;;AAKA,MAAA,2BAA2B,CAACH,OAAAA,CAAAA,MAAAA,CAAO,OAAR,CAA3B;AAEA,MAAA,MAAM,CAAC,IAAP,GAAc,IAAd,CACE,MAAM,2BAA2B,CAACA,OAAAA,CAAAA,MAAAA,CAAO,OAAR,CADnC,EAEE,MAAM,2BAA2B,CAACA,OAAAA,CAAAA,MAAAA,CAAO,OAAR,CAFnC;AAKD,KAfDE,EAeG,EAfHA;AAiBA,QAAI,MAAM,KAAKF,OAAAA,CAAAA,MAAAA,CAAO,OAAlB,IAA6B,QAAjC,EAA2C,OAAOI,cAAAA,CAAAA,SAAAA,CAAAA,CAAAA,aAAAA,CAAAA,cAAAA,CAAAA,SAAAA,CAAAA,CAAAA,QAAAA,EAAAA,IAAAA,EAAG,QAAHA,CAAP;AAE3C,QAAI,MAAJ,EAAY,OAAO,MAAM,CAAC,MAAD,CAAb;AAEZ,WAAOA,cAAAA,CAAAA,SAAAA,CAAAA,CAAAA,aAAAA,CAAAA,cAAAA,CAAAA,SAAAA,CAAAA,CAAAA,QAAAA,EAAAA,IAAAA,CAAP;AACF,G","sourcesContent":["/**\n * Copyright 2021 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at.\n *\n *      Http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, ReactNode, useState, ReactElement } from \"react\";\nimport { Loader, LoaderOptions } from \"@googlemaps/js-api-loader\";\n\nexport enum Status {\n  LOADING = \"LOADING\",\n  FAILURE = \"FAILURE\",\n  SUCCESS = \"SUCCESS\",\n}\n\nexport interface WrapperProps extends LoaderOptions {\n  /**\n   * Children wrapped by the `<Wrapper>{elements}</Wrapper`.\n   */\n  children?: ReactNode;\n  /**\n   * Render prop used to switch on the status.\n   */\n  render?: (status: Status) => ReactElement;\n  /**\n   * Callback prop used to access `@googlemaps/js-api-loader` and `Status`.\n   *\n   * Note: The callback be executed multiple times in the lifecycle of the component.\n   */\n  callback?: (status: Status, loader: Loader) => void;\n}\n\n/**\n * A component to wrap the loading of the Google Maps JavaScript API.\n *\n * ```\n * import { Wrapper } from '@googlemaps/react-wrapper';\n *\n * const MyApp = () => (\n * \t<Wrapper apiKey={'YOUR_API_KEY'}>\n * \t\t<MyMapComponent />\n * \t</Wrapper>\n * );\n * ```\n *\n * @param props\n */\nexport const Wrapper = ({\n  children,\n  render,\n  callback,\n  ...options\n}: WrapperProps): ReactElement => {\n  const [status, setStatus] = useState(Status.LOADING);\n\n  useEffect(() => {\n    const loader = new Loader(options);\n\n    const setStatusAndExecuteCallback = (status: Status) => {\n      if (callback) callback(status, loader);\n      setStatus(status);\n    };\n\n    setStatusAndExecuteCallback(Status.LOADING);\n\n    loader.load().then(\n      () => setStatusAndExecuteCallback(Status.SUCCESS),\n      () => setStatusAndExecuteCallback(Status.FAILURE)\n    );\n\n  }, []);\n\n  if (status === Status.SUCCESS && children) return <>{children}</>;\n\n  if (render) return render(status);\n\n  return <></>;\n};\n"]},"metadata":{},"sourceType":"script"}